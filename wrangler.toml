name = "ccr-router"
main = "src/index.js"
compatibility_date = "2024-01-01"
keep_vars = true  # Prevent deploy from wiping secrets

[durable_objects]
bindings = [
  { name = "ROUTER", class_name = "RouterDO" }
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["RouterDO"]

[vars]
# Non-sensitive config (safe in version control)
ALLOWED_CHAT_IDS = "8248645256"
# ALLOWED_USER_IDS = ""  # Optional, comma-separated

# Secrets (set via wrangler secret put, NOT here):
# CCR_API_KEY
# TELEGRAM_BOT_TOKEN
# TELEGRAM_WEBHOOK_SECRET
